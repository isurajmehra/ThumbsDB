<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="A website that allows to view and download YouTube video thumbnails easily.">
    <meta name="author" content="Filnor">
    <title>ThumbsDB</title>
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="css/custom.css" rel="stylesheet">
</head>

<body>

<!-- Begin page content -->
<main role="main" class="container">
    <h1 class="mt-5">ThumbsDB</h1>
    <p class="lead">View YouTube thumbnails easily.</p>
    <p>Enter a the link to a YouTube video to view the thumbail:</p>
    <div class="input-group">
        <input type="text" class="form-control" placeholder="https://youtube.com/video-id" aria-label="https://youtube.com/video-id" aria-describedby="button-addon" id="video-id-input">
        <div class="input-group-append">
            <button class="btn btn-primary" type="button" id="button-addon" onclick="getThumbnail();">Get thumbnail</button>
        </div>
    </div>
    <div class="text-center">
        <img src="https://placehold.it/720x405" alt="Thumbail" id="thumbnail-image">	
        <div class="btn-group action-buttons" role="group" aria-label="Actions">
            <button type="button" class="btn btn-primary" onclick="openInNewTab();" disabled>Open in new tab</button>
            <button type="button" class="btn btn-primary" onclick="openVideo();" disabled>Open video</button>
        </div>
    </div>
</main>

<input type="hidden" id="video-id">
<iframe id="my_iframe" style="display:none;"></iframe>

<footer class="footer">
    <div class="container">
        <span class="text-muted">&copy; 2018 Filnor</span>
    </div>
</footer>
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</body>
<script>
function getThumbnail(){var linkInput=$("#video-id-input").val();var urlValid=/(http|https):\/\/(www\.)?(youtu\.be|youtube.com)/.test(linkInput);if(urlValid){var videoId=new URL(linkInput).searchParams.get("v");if(videoId===null){videoId=linkInput.split("/")[3]}$("#thumbnail-image").attr("src",`https://img.youtube.com/vi/${videoId}/maxresdefault.jpg`);$(".action-buttons>button").removeAttr("disabled");$("#video-id").val(videoId)}else{alert("Please enter a valid link to a YouTube video.")}}function openInNewTab(){videoId=$("#video-id").val();window.open(`https://img.youtube.com/vi/${videoId}/maxresdefault.jpg`)}function openVideo(){videoId=$("#video-id").val();window.open(`https://youtu.be/${videoId}`)}
</script>
</html>
